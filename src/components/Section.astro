---
interface Props {
  title: string;
  items: Array<{
    year: string;
    institution: string;
    degree: string;
    description: string;
  }>;
  icon?: 'education' | 'experience';
}

const { title, items, icon } = Astro.props;
const icons: Record<'education' | 'experience', string[]> = {
  education: [
    'M5 13v-3h4v.5a.5.5 0 0 0 1 0V10h1v3z',
    'M6 2v.341C3.67 3.165 2 5.388 2 8v5.5A2.5 2.5 0 0 0 4.5 16h7a2.5 2.5 0 0 0 2.5-2.5V8a6 6 0 0 0-4-5.659V2a2 2 0 1 0-4 0m2-1a1 1 0 0 1 1 1v.083a6 6 0 0 0-2 0V2a1 1 0 0 1 1-1m0 3a4 4 0 0 1 3.96 3.43.5.5 0 1 1-.99.14 3 3 0 0 0-5.94 0 .5.5 0 1 1-.99-.14A4 4 0 0 1 8 4M4.5 9h7a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5',
  ],
  experience: [
    'M7 0a2 2 0 0 0-2 2H1.5A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14H2a.5.5 0 0 0 1 0h10a.5.5 0 0 0 1 0h.5a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2H11a2 2 0 0 0-2-2zM6 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1zM3 13V3h1v10zm9 0V3h1v10z',
  ],
};
---
<div class="mb-8">
  <h2 class="text-gray-200 text-xl font-semibold mb-6">{title}</h2>
  <div class="space-y-6">
    {items.map((item) => (
      <div class="flex items-start space-x-4">
        <div class="flex-shrink-0">
          <div class="w-12 h-12 bg-primary rounded-full flex items-center justify-center">
            {icon && icons[icon] ? (
              <svg class="w-5 h-5 text-dark" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
                {icons[icon].map((d) => (
                  <path d={d} />
                ))}
              </svg>
            ) : (
              <div class="w-3 h-3 bg-dark rounded-full"></div>
            )}
          </div>
        </div>
        <div class="flex-1">
          <div class="flex items-center space-x-3 mb-2">
            <span class="text-gray-500 text-sm">{item.year}</span>
            <h3 class="text-gray-200 font-semibold">{item.degree}</h3>
          </div>
          <p class="text-gray-300 text-sm mb-1">{item.institution}</p>
          <p class="text-gray-300 text-sm">{item.description}</p>
        </div>
      </div>
    ))}
  </div>
</div>
